<app-navbar></app-navbar>
<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <div class="col-md-3 sidebar">
      <app-sidebar></app-sidebar>
    </div>

    <!-- Content -->
    <div class="col-md-9 content">
      <h2>Testimonials List</h2>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Name</th>
            <th>Photo</th>
            <th>Statut</th>
            <th>Description</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let temoinage of temoinages">
            <td>{{ temoinage.nom }}</td>
            <td>
            <img *ngIf="temoinage.photoUrl" [src]="'http://localhost:8089/uploads/photos/' + temoinage.photoUrl" alt="{{ temoinage.nom }}" style="max-width: 100px; max-height: 100px;">
        <p *ngIf="!temoinage.photoUrl"><i>Aucune photo</i></p>
      </td>
            <td>{{ temoinage.statut }}</td>
            
            <td>
              
              <p>{{ temoinage.description }}</p>
            
              <audio *ngIf="temoinage.audioUrl" 
                     [src]="'http://localhost:8089/uploads/audio/' + temoinage.audioUrl" 
                     controls
                     style="margin-top: 10px; width: 100%;">
              </audio>
            
              <p *ngIf="!temoinage.audioUrl"><i>Aucun fichier audio</i></p>
            
              <button class="btn btn-warning mt-2" (click)="lireTemoinage(temoinage)">ðŸ”Š Lire</button>
              <p><strong>Note :</strong>
                <span *ngFor="let star of [1, 2, 3, 4, 5]; let i = index">
                  <i class="fa fa-star" [ngClass]="{'fas': (i + 1) <= temoinage.note, 'far': (i + 1) > temoinage.note}" style="color: gold;"></i>
                </span>
              </p>
            </td>
            
            <td>
              <button class="btn btn-success me-2" (click)="accepterTemoinage(temoinage)">Accepter</button>
              <button class="btn btn-secondary me-2" (click)="refuserTemoinage(temoinage)">Refuser</button>
              <button class="btn btn-danger" (click)="deleteTemoinage(temoinage)">Supprimer</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- âœ… Styles mis Ã  jour -->
<style>
  /* Assurer que la page nâ€™a pas de marges inutiles */
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
  }

  .container-fluid {
    padding: 0;
  }

  .row {
    margin: 0;
    display: flex;
  }

  /* Sidebar en noir sur toute la hauteur */
  .sidebar {
    background-color: #212529 !important; /* Noir Bootstrap */
    color: white;
    padding: 20px;
    border-right: 1px solid #dee2e6;
    height: 100vh; /* Pleine hauteur */
    position: fixed;
    width: 250px; /* Fixer une largeur */
    display: flex;
    flex-direction: column;
  }

  /* Ajuster le contenu pour Ã©viter chevauchement */
  .content {
    margin-left: 250px; /* DÃ©caler le contenu */
    padding: 30px;
    width: calc(100% - 250px); /* Ajustement largeur */
    background-color: #f8f9fa; /* Fond clair pour le contenu */
  }

  /* Style de la table */
  .table {
    width: 100%;
    margin-top: 20px;
    background-color: #fff;
    border-collapse: collapse;
  }

  .table th, .table td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid #ddd;
  }

  .table-striped tbody tr:nth-child(odd) {
    background-color: #f9f9f9;
  }

  .btn {
    font-size: 14px;
    padding: 5px 10px;
  }

  .btn-danger {
    background-color: #817271;
    color: white;
    border: none;
  }

  .btn-warning {
    background-color: #ffc107;
    color: white;
    border: none;
  }

  .btn-danger:hover, .btn-warning:hover {
    opacity: 0.8;
  }

  /* Bouton d'ajout */
  .add-btn {
    margin-top: 20px;
    font-size: 16px;
    padding: 10px 20px;
    background-color: #28a745;
    color: white;
    border: none;
  }

  .add-btn:hover {
    background-color: #218838;
  }
</style>