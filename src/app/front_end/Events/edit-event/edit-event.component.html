<app-navbar></app-navbar>
<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <div class="col-md-3 sidebar">
      <app-sidebar></app-sidebar>
    </div>
    
    <!-- Content -->
    <div class="col-md-9 content">
      <h2>Edit Event</h2>
      <form (ngSubmit)="updateEvent()" #eventForm="ngForm">
        <div class="form-group">
          <label for="nomEvent">Event Name:</label>
          <input type="text" id="nomEvent" class="form-control" [(ngModel)]="event.nomEvent" name="nomEvent" required>
        </div>
        <div class="form-group">
          <label for="description">Event Description:</label>
          <textarea id="description" class="form-control" [(ngModel)]="event.description" name="description" required></textarea>
        </div>
        <div class="form-group">
          <label for="lieu">Event Location:</label>
          <input type="text" id="lieu" class="form-control" [(ngModel)]="event.lieu" name="lieu" required>
        </div>
        <div class="form-group">
          <label for="prixevent">Event Price:</label>
          <input type="number" id="prixevent" class="form-control" [(ngModel)]="event.prixevent" name="prixevent" required min="0">
          <div *ngIf="eventForm.controls['prixevent']?.invalid && (eventForm.controls['prixevent']?.dirty || eventForm.controls['prixevent']?.touched)" class="text-danger">
            Price must be a positive number.
          </div>
        </div>
        <div class="form-group">
          <label for="dateEvent">Event Date:</label>
          <input type="date" id="dateEvent" class="form-control" [(ngModel)]="event.dateEvent" name="dateEvent" required [min]="minDate">
          <div *ngIf="eventForm.controls['dateEvent']?.invalid && (eventForm.controls['dateEvent']?.dirty || eventForm.controls['dateEvent']?.touched)" class="text-danger">
            Date cannot be in the past.
          </div>
        </div>
        <div class="d-flex justify-content-between">
          <button type="submit" class="btn btn-primary" [disabled]="eventForm.invalid">Update Event</button>
          <a routerLink="/dash" class="btn btn-primary mb-3">
            <i class="fa fa-arrow-left"></i> back to Dashboard
          </a>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- ✅ Styles mis à jour -->
<style>
  /* Assurer que la page n’a pas de marges inutiles */
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
  }

  .container-fluid {
    padding: 0;
  }

  .row {
    margin: 0;
    display: flex;
  }

  /* ✅ Sidebar en noir sur toute la hauteur */
  .sidebar {
    background-color: #212529 !important; /* Noir Bootstrap */
    color: white;
    padding: 20px;
    border-right: 1px solid #dee2e6;
    height: 100vh; /* Pleine hauteur */
    position: fixed;
    width: 250px; /* Fixer une largeur */
    display: flex;
    flex-direction: column;
  }

  /* ✅ Ajuster le contenu pour éviter chevauchement */
  .content {
    margin-left: 250px; /* Décaler le contenu */
    padding: 30px;
    width: calc(100% - 250px); /* Ajustement largeur */
    background-color: #d5e6e3; /* Garder le fond bleu clair */
  }

  .form-group label {
    font-weight: bold;
  }

  .btn-primary {
    margin-top: 10px;
  }
</style>